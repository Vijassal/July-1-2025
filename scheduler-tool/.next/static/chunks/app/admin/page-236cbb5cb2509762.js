(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var s=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:l="",children:o,...d},x)=>(0,s.createElement)("svg",{ref:x,...a,width:n,height:n,stroke:r,strokeWidth:c?24*Number(i)/Number(n):i,className:["lucide",`lucide-${toKebabCase(e)}`,l].join(" "),...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r}},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7753:function(e,t,r){Promise.resolve().then(r.bind(r,4602))},4602:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return AdminPage}});var s=r(7437),a=r(2265),n=r(3868),i=r(3008),c=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,c.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),o=(0,c.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function AdminPage(){let[e,t]=(0,a.useState)(!0),[r,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)(null),[m,p]=(0,a.useState)([]);(0,a.useEffect)(()=>{let initializeAdmin=async()=>{try{let e=(0,n.$8)();if(c(e),e){let e=(0,n.bG)();x(e),p([{id:"1",vendor_name:"John Doe",vendor_email:"john@example.com",vendor_phone:"+1-555-0123",service_type:"catering",service_description:"Wedding catering for 100 guests",proposed_date:"2024-02-15",proposed_time:"10:00 AM",status:"pending",created_at:"2024-01-15T10:30:00Z"},{id:"2",vendor_name:"Jane Smith",vendor_email:"jane@example.com",service_type:"photography",service_description:"Event photography services",proposed_date:"2024-02-20",proposed_time:"02:00 PM",status:"approved",created_at:"2024-01-14T15:45:00Z"}])}}catch(e){console.error("Admin initialization error:",e),c(!1)}finally{t(!1)}};initializeAdmin()},[]);let handleStatusUpdate=async(e,t)=>{try{console.log("Updating booking ".concat(e," to ").concat(t)),p(r=>r.map(r=>r.id===e?{...r,status:t}:r))}catch(e){console.error("Error updating booking status:",e),alert("Failed to update booking status")}};return e?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):r?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage vendor booking requests"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome, ",(null==d?void 0:d.name)||(null==d?void 0:d.email)]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Admin Panel"})]})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Bookings"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.vendor_name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.vendor_email}),e.vendor_phone&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.vendor_phone})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900 capitalize",children:e.service_type}),e.service_description&&(0,s.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.service_description})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.proposed_date).toLocaleDateString()}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.proposed_time})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"pending"===e.status&&(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>handleStatusUpdate(e.id,"approved"),className:"text-green-600 hover:text-green-900 flex items-center",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),"Approve"]}),(0,s.jsxs)("button",{onClick:()=>handleStatusUpdate(e.id,"rejected"),className:"text-red-600 hover:text-red-900 flex items-center",children:[(0,s.jsx)(l,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},e.id))})]})}),0===m.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings yet"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Bookings will appear here once vendors submit requests."})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})})}},3868:function(e,t,r){"use strict";function isAuthenticated(){let e=getToken();if(!e)return!1;try{let t=parseJWT(e),r=Math.floor(Date.now()/1e3);if(t.exp<r)return removeToken(),!1;return!0}catch(e){return console.error("Token validation error:",e),removeToken(),!1}}function getToken(){let e=localStorage.getItem("scheduler_token");if(e)return e;let t=new URLSearchParams(window.location.search),r=t.get("token");return r?(localStorage.setItem("scheduler_token",r),r):null}function removeToken(){localStorage.removeItem("scheduler_token")}function parseJWT(e){try{let t=e.split(".")[1],r=t.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(r).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(e){throw Error("Invalid JWT token")}}function getUserInfo(){let e=getToken();if(!e)return null;try{return parseJWT(e)}catch(e){return null}}r.d(t,{$8:function(){return isAuthenticated},LP:function(){return getToken},bG:function(){return getUserInfo}})},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(2265),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var s,l={},o=null,d=null;for(s in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,s)&&!c.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:a,type:e,key:o,ref:d,props:l,_owner:i.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7753)}),_N_E=e.O()}]);